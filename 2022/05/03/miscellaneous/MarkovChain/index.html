<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>markovChain | RainbowBin</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="I happened to run into the Google foobar invitation when browsing the web. It is the doomsday-fuel problem led me here. This artical is just note for patrickJMT markov Chain videos">
<meta property="og:type" content="article">
<meta property="og:title" content="markovChain">
<meta property="og:url" content="http://rubbish-and-world.github.io/2022/05/03/miscellaneous/MarkovChain/index.html">
<meta property="og:site_name" content="RainbowBin">
<meta property="og:description" content="I happened to run into the Google foobar invitation when browsing the web. It is the doomsday-fuel problem led me here. This artical is just note for patrickJMT markov Chain videos">
<meta property="og:locale">
<meta property="og:image" content="http://rubbish-and-world.github.io/2022/05/03/miscellaneous/MarkovChain/markovChain/trans.png">
<meta property="og:image" content="http://rubbish-and-world.github.io/2022/05/03/miscellaneous/MarkovChain/markovChain/intu.png">
<meta property="og:image" content="http://rubbish-and-world.github.io/2022/05/03/miscellaneous/MarkovChain/example.png">
<meta property="article:published_time" content="2022-05-03T06:01:31.000Z">
<meta property="article:modified_time" content="2022-08-06T01:07:03.212Z">
<meta property="article:author" content="rubbish">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://rubbish-and-world.github.io/2022/05/03/miscellaneous/MarkovChain/markovChain/trans.png">
  
    <link rel="alternate" href="/atom.xml" title="RainbowBin" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">RainbowBin</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Suche"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Suche"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://rubbish-and-world.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-miscellaneous/MarkovChain" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/05/03/miscellaneous/MarkovChain/" class="article-date">
  <time class="dt-published" datetime="2022-05-03T06:01:31.000Z" itemprop="datePublished">2022-05-03</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/misc/">misc</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      markovChain
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><em>I happened to run into the <a target="_blank" rel="noopener" href="https://foobar.withgoogle.com/">Google foobar</a> invitation when browsing the web. It is the <strong>doomsday-fuel</strong> problem led me here.</em></p>
<p>This artical is just note for <a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=uvYTGEZQTEs&list=PLANMHOrJaFxPMQCMYcYqwOCYlreFswAKP">patrickJMT markov Chain videos</a></p>
<a id="more"></a>

<h2 id="Introduction-example"><a href="#Introduction-example" class="headerlink" title="Introduction example"></a>Introduction example</h2><blockquote>
<p>Say we have two company sell a same kind of product. A shares 20% of the market, B shares 80% of the market.</p>
<p>A decide to launch an advertising campaign which will make</p>
<ul>
<li>Those who use A, 90% will still use A</li>
<li>Those who use B, 70% will start to use A</li>
</ul>
<p>This change will happen once a week as the campaign goes on.</p>
</blockquote>
<h4 id="Transition-Graph"><a href="#Transition-Graph" class="headerlink" title="Transition Graph"></a>Transition Graph</h4><p><img src="markovChain/trans.png" alt="trans graph"></p>
<h3 id="Probability-Matrix-and-State-Matrix"><a href="#Probability-Matrix-and-State-Matrix" class="headerlink" title="Probability Matrix and State Matrix"></a>Probability Matrix and State Matrix</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>S0 = np.array([<span class="number">0.2</span> , <span class="number">0.8</span>]) <span class="comment"># S0 is the initial state, denoting the market sharing</span></span><br><span class="line"><span class="comment">#  A    B</span></span><br><span class="line"><span class="comment"># [0.2 0.8]</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>P = np.array( [ [<span class="number">0.9</span>,<span class="number">0.1</span>], [<span class="number">0.7</span>,<span class="number">0.3</span>] ])</span><br><span class="line"><span class="comment"># P is the probability matrix, indicating the transition</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">	A      B</span></span><br><span class="line"><span class="string">A  [0.9    0.1]</span></span><br><span class="line"><span class="string">B  [0.7    0.3]</span></span><br><span class="line"><span class="string">column stand for current state</span></span><br><span class="line"><span class="string">row stand for next state</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<h4 id="Obtain-the-next-state"><a href="#Obtain-the-next-state" class="headerlink" title="Obtain the next state"></a>Obtain the next state</h4><p>Intuitive method</p>
<p><img src="markovChain/intu.png" alt="intuitive"><br>$$<br>A=(0.2 \times 0.9)+(0.8 \times 0.7) = 0.74<br>$$</p>
<p>$$<br>B = (0.8 \times 0.3) + (0.2 \times 0.1) = 0.26<br>$$</p>
<p>Matrix Calculation</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>S1 = np.matmul(S0,P)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>S1</span><br><span class="line">array([<span class="number">0.74</span>, <span class="number">0.26</span>])</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>S2 = np.matmul(S1,P)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>S2</span><br><span class="line">array([<span class="number">0.848</span>, <span class="number">0.152</span>])</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>S3 = np.matmul(S2,P)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>S3</span><br><span class="line">array([<span class="number">0.8696</span>, <span class="number">0.1304</span>])</span><br></pre></td></tr></table></figure>
<p>==<strong><em>If the campaign goes on, will Aâ€™s market share converge???</em></strong>==</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">20</span>):</span><br><span class="line"><span class="meta">... </span>    S0 = np.matmul(S0,P)</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>S0</span><br><span class="line">array([<span class="number">0.875</span>, <span class="number">0.125</span>])</span><br></pre></td></tr></table></figure>
<p><strong>It converges.</strong><br>$$<br>0.875 \times 0.9 + 0.125 \times 0.7 = 0.875<br>$$</p>
<p>$$<br>0.875\times 0.1 + 0.125\times 0.7 = 0.125<br>$$</p>
<p>We call this final S matrix a <code>stationary matrix</code> and the final state a <code>steady state</code> of the system.</p>
<h3 id="Question"><a href="#Question" class="headerlink" title="Question"></a>Question</h3><ul>
<li>Does every markov Chain has a unique <code>stationary matrix</code> ?</li>
<li>If a markov Chain has a <code>stationary matrix</code> will the successive matrix always approach it ?</li>
</ul>
<p><strong><em>Both answer is NO! Only a <code>regular</code> markov chain has these properties</em></strong></p>
<h2 id="Regular-markov-Chain"><a href="#Regular-markov-Chain" class="headerlink" title="Regular markov Chain"></a>Regular markov Chain</h2><blockquote>
<p>A transition matrix P is regular if some power of P has only positive entries.(NO zeros) A Markov chain is a regular Markov chain if its transition matrix is regular. </p>
</blockquote>
<h3 id="Find-the-stationary-matrix"><a href="#Find-the-stationary-matrix" class="headerlink" title="Find the stationary matrix"></a>Find the stationary matrix</h3><p><em>We only need to solve the equation below for any given P</em><br>$$<br>S \times P = S<br>$$</p>
<h3 id="It-alwasy-converge"><a href="#It-alwasy-converge" class="headerlink" title="It alwasy converge"></a>It alwasy converge</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>S0</span><br><span class="line">array([<span class="number">0.9</span>, <span class="number">0.1</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>_</span><br><span class="line">array([<span class="number">0.9</span>, <span class="number">0.1</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.matmul(_,P)</span><br><span class="line">array([<span class="number">0.88</span>, <span class="number">0.12</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.matmul(_,P)</span><br><span class="line">array([<span class="number">0.876</span>, <span class="number">0.124</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.matmul(_,P)</span><br><span class="line">array([<span class="number">0.8752</span>, <span class="number">0.1248</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.matmul(_,P)</span><br><span class="line">array([<span class="number">0.87504</span>, <span class="number">0.12496</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.matmul(_,P)</span><br><span class="line">array([<span class="number">0.875008</span>, <span class="number">0.124992</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.matmul(_,P)</span><br><span class="line">array([<span class="number">0.8750016</span>, <span class="number">0.1249984</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.matmul(_,P)</span><br><span class="line">array([<span class="number">0.87500032</span>, <span class="number">0.12499968</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.matmul(_,P)</span><br><span class="line">array([<span class="number">0.87500006</span>, <span class="number">0.12499994</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.matmul(_,P)</span><br><span class="line">array([<span class="number">0.87500001</span>, <span class="number">0.12499999</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.matmul(_,P)</span><br><span class="line">array([<span class="number">0.875</span>, <span class="number">0.125</span>])</span><br></pre></td></tr></table></figure>
<h2 id="Abosrbing-Markov-Chain"><a href="#Abosrbing-Markov-Chain" class="headerlink" title="Abosrbing Markov Chain"></a>Abosrbing Markov Chain</h2><blockquote>
<p>An abosorbing state is a state where has no way to leave <strong>that state</strong>.</p>
</blockquote>
<p><img src="/2022/05/03/miscellaneous/MarkovChain/example.png" alt="examples"></p>
<p>We can easily determine if a matrix has absorbing state if we have labels in order.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">  A B C</span></span><br><span class="line"><span class="string">A[x x x]</span></span><br><span class="line"><span class="string">B[x x x]</span></span><br><span class="line"><span class="string">C[x x x]</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="comment"># if we have any 1 in the diagonal, that state is an abosrbing state</span></span><br></pre></td></tr></table></figure>
<h3 id="Definition"><a href="#Definition" class="headerlink" title="Definition"></a>Definition</h3><blockquote>
<p>A Markov chain is an absorbing chain if: </p>
<p>A) there is at least one absorbing state. </p>
<p>B) It is possible to go from each non-absorbing state to at least one absorbing state in a finite number of steps.</p>
</blockquote>
<h2 id="Standard-form-of-absorbing-Markov-Chain"><a href="#Standard-form-of-absorbing-Markov-Chain" class="headerlink" title="Standard form of absorbing Markov Chain"></a>Standard form of absorbing Markov Chain</h2><blockquote>
<p>In a transition matrix, if all the absorbing states precede all the nonabsorbing states, the matrix is said to be in standard form. Standard forms are very useful in determining limiting matrices for absorbing Markov chains.</p>
</blockquote>
<p>A standard form transition matrix can be partitioned into 4 submatrix<br>$$<br>P = \begin{bmatrix} I &amp; 0\<br>R&amp;Q<br>\end{bmatrix}<br>$$<br>I is an identity matrix and O is the zero matrix</p>
<h3 id="Limiting-Matrix"><a href="#Limiting-Matrix" class="headerlink" title="Limiting Matrix"></a>Limiting Matrix</h3><blockquote>
<p>powers of P approach a limiting matrix P* where each row of P* is equal to the stationary matrix S if S exists</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.matmul(P,P)</span><br><span class="line">array([[<span class="number">0.88</span>, <span class="number">0.12</span>],</span><br><span class="line">       [<span class="number">0.84</span>, <span class="number">0.16</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.matmul(_,P)</span><br><span class="line">array([[<span class="number">0.876</span>, <span class="number">0.124</span>],</span><br><span class="line">       [<span class="number">0.868</span>, <span class="number">0.132</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.matmul(_,P)</span><br><span class="line">array([[<span class="number">0.8752</span>, <span class="number">0.1248</span>],</span><br><span class="line">       [<span class="number">0.8736</span>, <span class="number">0.1264</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.matmul(_,P)</span><br><span class="line">array([[<span class="number">0.87504</span>, <span class="number">0.12496</span>],</span><br><span class="line">       [<span class="number">0.87472</span>, <span class="number">0.12528</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.matmul(_,P)</span><br><span class="line">array([[<span class="number">0.875008</span>, <span class="number">0.124992</span>],</span><br><span class="line">       [<span class="number">0.874944</span>, <span class="number">0.125056</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.matmul(_,P)</span><br><span class="line">array([[<span class="number">0.8750016</span>, <span class="number">0.1249984</span>],</span><br><span class="line">       [<span class="number">0.8749888</span>, <span class="number">0.1250112</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.matmul(_,P)</span><br><span class="line">array([[<span class="number">0.87500032</span>, <span class="number">0.12499968</span>],</span><br><span class="line">       [<span class="number">0.87499776</span>, <span class="number">0.12500224</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.matmul(_,P)</span><br><span class="line">array([[<span class="number">0.87500006</span>, <span class="number">0.12499994</span>],</span><br><span class="line">       [<span class="number">0.87499955</span>, <span class="number">0.12500045</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.matmul(_,P)</span><br><span class="line">array([[<span class="number">0.87500001</span>, <span class="number">0.12499999</span>],</span><br><span class="line">       [<span class="number">0.87499991</span>, <span class="number">0.12500009</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.matmul(_,P)</span><br><span class="line">array([[<span class="number">0.875</span>     , <span class="number">0.125</span>     ],</span><br><span class="line">       [<span class="number">0.87499998</span>, <span class="number">0.12500002</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.matmul(_,P)</span><br><span class="line">array([[<span class="number">0.875</span>, <span class="number">0.125</span>],</span><br><span class="line">       [<span class="number">0.875</span>, <span class="number">0.125</span>]])</span><br></pre></td></tr></table></figure>
<p>We have a formula for P*<br>$$<br>P* = \begin{bmatrix}<br>I &amp; 0\<br>FR&amp;0<br>\end{bmatrix}, F = (I-Q)^{-1}<br>$$<br>$F$ is called the fundamental matrix for $P$</p>
<h4 id="Properties-of-P"><a href="#Properties-of-P" class="headerlink" title="Properties of P*"></a>Properties of P*</h4><ul>
<li><code>P*[i][j]</code> gives the long-run probability from state i to state j</li>
<li>sum of that row in $F$ is the average number of trials it will take to go from that non-absorbing state to a arbitrary absorbing state</li>
</ul>
<h2 id="The-problem"><a href="#The-problem" class="headerlink" title="The problem"></a>The problem</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">Doomsday Fuel</span><br><span class="line">&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class="line"></span><br><span class="line">Making fuel for the LAMBCHOP&#39;s reactor core is a tricky process because of the exotic matter involved. It starts as raw ore, then during processing, begins randomly changing between forms, eventually reaching a stable form. There may be multiple stable forms that a sample could ultimately reach, not all of which are useful as fuel. </span><br><span class="line"></span><br><span class="line">Commander Lambda has tasked you to help the scientists increase fuel creation efficiency by predicting the end state of a given ore sample. You have carefully studied the different structures that the ore can take and which transitions it undergoes. It appears that, while random, the probability of each structure transforming is fixed. That is, each time the ore is in 1 state, it has the same probabilities of entering the next state (which might be the same state).  You have recorded the observed transitions in a matrix. The others in the lab have hypothesized more exotic forms that the ore can become, but you haven&#39;t seen all of them.</span><br><span class="line"></span><br><span class="line">Write a function solution(m) that takes an array of array of nonnegative ints representing how many times that state has gone to the next state and return an array of ints for each terminal state giving the exact probabilities of each terminal state, represented as the numerator for each state, then the denominator for all of them at the end and in simplest form. The matrix is at most 10 by 10. It is guaranteed that no matter which state the ore is in, there is a path from that state to a terminal state. That is, the processing will always eventually end in a stable state. The ore starts in state 0. The denominator will fit within a signed 32-bit integer during the calculation, as long as the fraction is simplified regularly. </span><br><span class="line"></span><br><span class="line">For example, consider the matrix m:</span><br><span class="line">[</span><br><span class="line">  [0,1,0,0,0,1],  # s0, the initial state, goes to s1 and s5 with equal probability</span><br><span class="line">  [4,0,0,3,2,0],  # s1 can become s0, s3, or s4, but with different probabilities</span><br><span class="line">  [0,0,0,0,0,0],  # s2 is terminal, and unreachable (never observed in practice)</span><br><span class="line">  [0,0,0,0,0,0],  # s3 is terminal</span><br><span class="line">  [0,0,0,0,0,0],  # s4 is terminal</span><br><span class="line">  [0,0,0,0,0,0],  # s5 is terminal</span><br><span class="line">]</span><br><span class="line">So, we can consider different paths to terminal states, such as:</span><br><span class="line">s0 -&gt; s1 -&gt; s3</span><br><span class="line">s0 -&gt; s1 -&gt; s0 -&gt; s1 -&gt; s0 -&gt; s1 -&gt; s4</span><br><span class="line">s0 -&gt; s1 -&gt; s0 -&gt; s5</span><br><span class="line">Tracing the probabilities of each, we find that</span><br><span class="line">s2 has probability 0</span><br><span class="line">s3 has probability 3&#x2F;14</span><br><span class="line">s4 has probability 1&#x2F;7</span><br><span class="line">s5 has probability 9&#x2F;14</span><br><span class="line">So, putting that together, and making a common denominator, gives an answer in the form of</span><br><span class="line">[s2.numerator, s3.numerator, s4.numerator, s5.numerator, denominator] which is</span><br><span class="line">[0, 3, 2, 9, 14].</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fractions <span class="keyword">import</span> gcd</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">lcm</span>(<span class="params">a</span>):</span></span><br><span class="line">    lcm = <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> a:</span><br><span class="line">        lcm = lcm*i//gcd(lcm, i)</span><br><span class="line">    <span class="keyword">return</span> lcm</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Fraction</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self , n, d</span>):</span></span><br><span class="line">        self.numerator =  n</span><br><span class="line">        self.denominator = d</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__add__</span>(<span class="params">self , other</span>):</span></span><br><span class="line">        d , n = self.denominator * other.denominator , (self.numerator * other.denominator) + (other.numerator * self.denominator)</span><br><span class="line">        <span class="keyword">return</span> Fraction(n,d).reduced()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__sub__</span>(<span class="params">self, other</span>):</span></span><br><span class="line">        other.numerator = - other.numerator</span><br><span class="line">        <span class="keyword">return</span> self + other</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__mul__</span>(<span class="params">self, other</span>):</span></span><br><span class="line">        <span class="keyword">return</span> Fraction( self.numerator * other.numerator, self.denominator * other.denominator ).reduced()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reduced</span>(<span class="params">self</span>):</span></span><br><span class="line">        divisor = gcd(self.numerator , self.denominator)</span><br><span class="line">        <span class="keyword">if</span> divisor == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> Fraction(<span class="number">0</span>,<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> Fraction ( self.numerator // divisor,self.denominator // divisor )</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">str</span>(self.numerator)+ <span class="string">&#x27;/&#x27;</span> + <span class="built_in">str</span>(self.denominator)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__repr__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self.__str__()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__float__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">float</span>(self.numerator/self.denominator)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">flipped</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">if</span> self.numerator != <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> Fraction(self.denominator , self.numerator)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> self</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__div__</span>(<span class="params">self , other </span>):</span></span><br><span class="line">        <span class="keyword">return</span>  self * other.flipped()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getNumeratorOfdenominator</span>(<span class="params">self , d</span>):</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            times = d // self.denominator</span><br><span class="line">            <span class="keyword">return</span> self.numerator * times </span><br><span class="line">        <span class="keyword">except</span>:</span><br><span class="line">            <span class="keyword">raise</span> Exception(<span class="string">&quot;Unable&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ======================================================= tool kit ======================================================= </span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">transposeMatrix</span>(<span class="params">m</span>):</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">map</span>(<span class="built_in">list</span>,<span class="built_in">zip</span>(*m))</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getMatrixMinor</span>(<span class="params">m,i,j</span>):</span></span><br><span class="line">    <span class="keyword">return</span> [row[:j] + row[j+<span class="number">1</span>:] <span class="keyword">for</span> row <span class="keyword">in</span> (m[:i]+m[i+<span class="number">1</span>:])]</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getMatrixDeternminant</span>(<span class="params">m</span>):</span></span><br><span class="line">    <span class="comment">#base case for 2x2 matrix</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(m) == <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> m[<span class="number">0</span>][<span class="number">0</span>]*m[<span class="number">1</span>][<span class="number">1</span>]-m[<span class="number">0</span>][<span class="number">1</span>]*m[<span class="number">1</span>][<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">    determinant = Fraction(<span class="number">0</span>,<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">for</span> c <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(m)):</span><br><span class="line">        determinant += Fraction((-<span class="number">1</span>)**c,<span class="number">1</span>) *m[<span class="number">0</span>][c]*getMatrixDeternminant(getMatrixMinor(m,<span class="number">0</span>,c))</span><br><span class="line">    <span class="keyword">return</span> determinant</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getMatrixInverse</span>(<span class="params">m</span>):</span></span><br><span class="line">    determinant = getMatrixDeternminant(m)</span><br><span class="line">    <span class="comment">#special case for 2x2 matrix:</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(m) == <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> [[m[<span class="number">1</span>][<span class="number">1</span>]/determinant, Fraction(-<span class="number">1</span>,<span class="number">1</span>)*m[<span class="number">0</span>][<span class="number">1</span>]/determinant],</span><br><span class="line">                [Fraction(-<span class="number">1</span>,<span class="number">1</span>)*m[<span class="number">1</span>][<span class="number">0</span>]/determinant, m[<span class="number">0</span>][<span class="number">0</span>]/determinant]]</span><br><span class="line"></span><br><span class="line">    <span class="comment">#find matrix of cofactors</span></span><br><span class="line">    cofactors = []</span><br><span class="line">    <span class="keyword">for</span> r <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(m)):</span><br><span class="line">        cofactorRow = []</span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(m)):</span><br><span class="line">            minor = getMatrixMinor(m,r,c)</span><br><span class="line">            cofactorRow.append( Fraction( ((-<span class="number">1</span>)**(r+c)) , <span class="number">1</span>) * getMatrixDeternminant(minor))</span><br><span class="line">        cofactors.append(cofactorRow)</span><br><span class="line">    cofactors = transposeMatrix(cofactors)</span><br><span class="line">    <span class="keyword">for</span> r <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(cofactors)):</span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(cofactors)):</span><br><span class="line">            cofactors[r][c] = cofactors[r][c]/determinant</span><br><span class="line">    <span class="keyword">return</span> cofactors</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">MM</span>(<span class="params">a,b</span>):</span></span><br><span class="line">    c = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,<span class="built_in">len</span>(a)):</span><br><span class="line">        temp=[]</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,<span class="built_in">len</span>(b[<span class="number">0</span>])):</span><br><span class="line">            s = Fraction(<span class="number">0</span>,<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,<span class="built_in">len</span>(a[<span class="number">0</span>])):</span><br><span class="line">                s += a[i][k]*b[k][j]</span><br><span class="line">            temp.append(s)</span><br><span class="line">        c.append(temp)</span><br><span class="line">    <span class="keyword">return</span> c</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ======================================================= tool kit ======================================================= </span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">rearrange</span>(<span class="params">info</span>):</span></span><br><span class="line">    absorb = []</span><br><span class="line">    nonabs = []</span><br><span class="line">    <span class="keyword">for</span> name , v <span class="keyword">in</span> info.items():</span><br><span class="line">        <span class="keyword">if</span> v[<span class="number">1</span>] :</span><br><span class="line">            absorb.append((name , v[<span class="number">0</span>]))</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            nonabs.append((name , v[<span class="number">0</span>]))</span><br><span class="line">    absorb = <span class="built_in">sorted</span>(absorb , key=<span class="keyword">lambda</span> x : x[<span class="number">0</span>])</span><br><span class="line">    nonabs = <span class="built_in">sorted</span>(nonabs , key=<span class="keyword">lambda</span> x : x[<span class="number">0</span>])</span><br><span class="line">    ls = absorb + nonabs</span><br><span class="line">    names = [x[<span class="number">0</span>] <span class="keyword">for</span> x <span class="keyword">in</span> ls]</span><br><span class="line">    P = [] <span class="comment"># Probability Matrix</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> ls:</span><br><span class="line">        row = []</span><br><span class="line">        paths = i[<span class="number">1</span>]</span><br><span class="line">        ks = <span class="built_in">sorted</span>(paths , key=<span class="keyword">lambda</span> x : names.index(x))</span><br><span class="line">        <span class="keyword">for</span> k <span class="keyword">in</span> ks:</span><br><span class="line">            row.append(paths[k])</span><br><span class="line">        P.append(row)</span><br><span class="line">    <span class="keyword">return</span> P,<span class="built_in">len</span>(absorb)</span><br><span class="line"></span><br><span class="line">        </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">showinfo</span>(<span class="params">m</span>):</span></span><br><span class="line">    <span class="keyword">for</span> k , v <span class="keyword">in</span> m.items():</span><br><span class="line">        print(k, <span class="string">&quot;:&quot;</span>, <span class="string">&quot;abosrbing ? &quot;</span> , v[<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">for</span> x,y <span class="keyword">in</span> v[<span class="number">0</span>].items():</span><br><span class="line">            print(<span class="string">&quot;\t&quot;</span> , x, <span class="string">&quot;-&gt;&quot;</span> , y)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getinfo</span>(<span class="params">m</span>):</span></span><br><span class="line">    res  = &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> index, row <span class="keyword">in</span> <span class="built_in">enumerate</span>(m):</span><br><span class="line">        name = <span class="string">&quot;S&quot;</span> + <span class="built_in">str</span>(index)</span><br><span class="line">        paths = &#123;&#125;</span><br><span class="line">        denominator = <span class="built_in">sum</span>(row)</span><br><span class="line">        <span class="keyword">for</span> i , n <span class="keyword">in</span> <span class="built_in">enumerate</span>(row):</span><br><span class="line">            path = <span class="string">&quot;S&quot;</span> + <span class="built_in">str</span>(i)</span><br><span class="line">            <span class="keyword">if</span> denominator != <span class="number">0</span>:</span><br><span class="line">                paths[path] = Fraction(n , denominator)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="comment"># absorbing state</span></span><br><span class="line">                <span class="keyword">if</span> index == i:</span><br><span class="line">                    paths[path] = Fraction(<span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    paths[path] = Fraction(<span class="number">0</span> , <span class="number">1</span>)</span><br><span class="line">        res[name] = ( paths , denominator == <span class="number">0</span> )</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">submatrix</span>(<span class="params">P , indice</span>):</span></span><br><span class="line">    R = []</span><br><span class="line">    Q = []</span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> P[indice:]:</span><br><span class="line">        R.append(row[:indice])</span><br><span class="line">        Q.append(row[indice:])</span><br><span class="line">    <span class="keyword">return</span> R,Q</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Fundamental</span>(<span class="params">Q</span>):</span></span><br><span class="line">    length  = <span class="built_in">len</span>(Q)</span><br><span class="line">    I = [[Fraction(<span class="number">1</span>,<span class="number">1</span>) <span class="keyword">if</span> r==i <span class="keyword">else</span> Fraction(<span class="number">0</span>,<span class="number">1</span>) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(length)] <span class="keyword">for</span> r <span class="keyword">in</span> <span class="built_in">range</span>(length)]</span><br><span class="line">    Finv = []</span><br><span class="line">    <span class="keyword">for</span> Ir , Qr <span class="keyword">in</span> <span class="built_in">zip</span>(I,Q):</span><br><span class="line">        row = [i-q <span class="keyword">for</span> i,q <span class="keyword">in</span> <span class="built_in">zip</span>(Ir ,Qr)]</span><br><span class="line">        Finv.append(row)</span><br><span class="line">    F = getMatrixInverse(Finv)</span><br><span class="line">    <span class="keyword">return</span> F</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># =================== MAIN ====================</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span>(<span class="params">m</span>):</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(m) == <span class="number">1</span> <span class="keyword">and</span> <span class="built_in">len</span>(m[<span class="number">0</span>]) == <span class="number">1</span> <span class="keyword">and</span> m[<span class="number">0</span>][<span class="number">0</span>] == <span class="number">0</span> : <span class="keyword">return</span> [<span class="number">1</span>,<span class="number">1</span>]</span><br><span class="line">    info = getinfo(m)</span><br><span class="line">    P , indice = rearrange(info)</span><br><span class="line">    R , Q = submatrix(P , indice)</span><br><span class="line">    F = Fundamental(Q)</span><br><span class="line">    res = MM(F,R)[<span class="number">0</span>]</span><br><span class="line">    denominator = lcm([f.denominator <span class="keyword">for</span> f <span class="keyword">in</span> res])</span><br><span class="line">    ans =  [f.getNumeratorOfdenominator(denominator) <span class="keyword">for</span> f <span class="keyword">in</span> res] + [denominator]</span><br><span class="line">    <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure>

<hr>
<ul>
<li>A view from linear algebra perspective is also heuristic <a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=8MF3pz-oYHo">MIT 18.06</a> (using the Eigen values and Eigen vectors)</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://rubbish-and-world.github.io/2022/05/03/miscellaneous/MarkovChain/" data-id="clz8bo3xg006v1uyq557pht8e" data-title="markovChain" class="article-share-link">Teilen</a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2022/05/04/feelings/Testament/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Neuer</strong>
      <div class="article-nav-title">
        
          Testament
        
      </div>
    </a>
  
  
    <a href="/2022/04/11/Database/BufferPool/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Ã„lter</strong>
      <div class="article-nav-title">BufferPool</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Kategorien</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Cryptography/">Cryptography</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Data-Structure/">Data Structure</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Database/">Database</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Electronics/">Electronics</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/FrontEnd/">FrontEnd</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/FrontEnd/course/">course</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Hexo/">Hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/IOT/">IOT</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/LLL/">LLL</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Machine-Learning/">Machine Learning</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Machine-Learning/NTU/">NTU</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Machine-Learning/Stanford-CS229/">Stanford CS229</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Math/">Math</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Math/Discrete-Mathematics/">Discrete Mathematics</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Math/Linear-Algebra/">Linear Algebra</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Math/Statistics/">Statistics</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Missing-Semester/">Missing Semester</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Networking/">Networking</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Networking/Stanford-CS144/">Stanford CS144</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/OS/">OS</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/OS/30DayOS/">30DayOS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/OS/TEP/">TEP</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python-OG/">Python OG</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Web3/">Web3</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/academic/">academic</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/bis/">bis</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/csapp/">csapp</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/feeling/">feeling</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/feelings/">feelings</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/misc/">misc</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/noval/">noval</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/game/" rel="tag">game</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/game/" style="font-size: 10px;">game</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archiv</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2026/01/">January 2026</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/10/">October 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/04/">April 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/01/">January 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/12/">December 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/10/">October 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/09/">September 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/08/">August 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/07/">July 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/05/">May 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/02/">February 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/01/">January 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/12/">December 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/08/">August 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">March 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">January 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">December 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">November 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">September 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">August 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">July 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">June 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">letzter Beitrag</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2026/01/02/feelings/Evilness/">Evilness</a>
          </li>
        
          <li>
            <a href="/2025/10/25/feelings/Feel/">Feel</a>
          </li>
        
          <li>
            <a href="/2025/04/17/feelings/Night/">Night</a>
          </li>
        
          <li>
            <a href="/2025/01/01/feelings/2025/">2025</a>
          </li>
        
          <li>
            <a href="/2024/12/20/feelings/Co-funder/">Co-funder</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2026 rubbish<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>