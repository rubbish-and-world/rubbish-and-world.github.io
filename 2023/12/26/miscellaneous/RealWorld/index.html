<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>RealWorld | RainbowBin</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="Travelling is always good">
<meta property="og:type" content="article">
<meta property="og:title" content="RealWorld">
<meta property="og:url" content="http://rubbish-and-world.github.io/2023/12/26/miscellaneous/RealWorld/index.html">
<meta property="og:site_name" content="RainbowBin">
<meta property="og:description" content="Travelling is always good">
<meta property="og:locale">
<meta property="og:image" content="http://rubbish-and-world.github.io/2023/12/26/miscellaneous/RealWorld/hotel.png">
<meta property="og:image" content="http://rubbish-and-world.github.io/2023/12/26/miscellaneous/RealWorld/empty.png">
<meta property="og:image" content="http://rubbish-and-world.github.io/2023/12/26/miscellaneous/RealWorld/css.png">
<meta property="og:image" content="http://rubbish-and-world.github.io/2023/12/26/miscellaneous/RealWorld/show.png">
<meta property="og:image" content="http://rubbish-and-world.github.io/2023/12/26/miscellaneous/RealWorld/cve.png">
<meta property="og:image" content="http://rubbish-and-world.github.io/2023/12/26/miscellaneous/RealWorld/fileupload.png">
<meta property="article:published_time" content="2023-12-26T13:13:47.000Z">
<meta property="article:modified_time" content="2024-03-30T11:31:09.307Z">
<meta property="article:author" content="rubbish">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://rubbish-and-world.github.io/2023/12/26/miscellaneous/RealWorld/hotel.png">
  
    <link rel="alternate" href="/atom.xml" title="RainbowBin" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">RainbowBin</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Buscar"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Buscar"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://rubbish-and-world.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-miscellaneous/RealWorld" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/12/26/miscellaneous/RealWorld/" class="article-date">
  <time class="dt-published" datetime="2023-12-26T13:13:47.000Z" itemprop="datePublished">2023-12-26</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/misc/">misc</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      RealWorld
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Travelling-is-always-good"><a href="#Travelling-is-always-good" class="headerlink" title="Travelling is always good"></a>Travelling is always good</h1><a id="more"></a>

<h2 id="淮安市晟源酒店"><a href="#淮安市晟源酒店" class="headerlink" title="淮安市晟源酒店"></a>淮安市晟源酒店</h2><p>国家电网电力招待所，淮安电力大厦旁边</p>
<p><img src="/2023/12/26/miscellaneous/RealWorld/hotel.png" alt="hotel_img"></p>
<p>After dinner, we go back to the hotel. The TV doesn’t work for some reason. I notice that the wifi maybe somewhat vulnerable and I have nothing to do in this several hours. So I give it a try.</p>
<h3 id="Network-scanning"><a href="#Network-scanning" class="headerlink" title="Network scanning"></a>Network scanning</h3><p>after connected with the wifi, <code>ifconfig | grep inet</code> to get the ipv4 address</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ ifconfig | grep inet</span><br><span class="line">	inet 127.0.0.1 netmask 0xff000000</span><br><span class="line">	inet6 ::1 prefixlen 128</span><br><span class="line">	inet6 fe80::1%lo0 prefixlen 64 scopeid 0x1</span><br><span class="line">	inet6 fe80::aede:48ff:fe00:1122%en4 prefixlen 64 scopeid 0x4</span><br><span class="line">	inet6 fe80::347d:daff:fe9f:bb1f%ap1 prefixlen 64 scopeid 0x5</span><br><span class="line">	inet6 fe80::8a7:53cc:308a:2dfc%en0 prefixlen 64 secured scopeid 0x6</span><br><span class="line">	inet 192.168.41.107 netmask 0xffffff00 broadcast 192.168.41.255</span><br><span class="line">	inet6 fe80::24dd:f9ff:fef7:612%awdl0 prefixlen 64 scopeid 0x7</span><br><span class="line">	inet6 fe80::24dd:f9ff:fef7:612%llw0 prefixlen 64 scopeid 0x8</span><br><span class="line">	inet6 fe80::123a:35a1:1607:fc62%utun0 prefixlen 64 scopeid 0xc</span><br><span class="line">	inet6 fe80::e752:ae73:20c:35d2%utun1 prefixlen 64 scopeid 0xd</span><br><span class="line">	inet6 fe80::ce81:b1c:bd2c:69e%utun2 prefixlen 64 scopeid 0xe</span><br></pre></td></tr></table></figure>
<p>fire up <code>nmap</code> and do a quick scan in this network</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">$ nmap 192.168.41.107/24</span><br><span class="line">Nmap scan report <span class="keyword">for</span> 192.168.41.1</span><br><span class="line">Host is up (0.0083s latency).</span><br><span class="line">Not shown: 969 closed tcp ports (conn-refused), 29 filtered tcp ports (no-response)</span><br><span class="line">PORT   STATE SERVICE</span><br><span class="line">53/tcp open  domain</span><br><span class="line">80/tcp open  http</span><br><span class="line"></span><br><span class="line">Nmap scan report <span class="keyword">for</span> 192.168.41.100</span><br><span class="line">Host is up (0.0081s latency).</span><br><span class="line">Not shown: 999 closed tcp ports (conn-refused)</span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line">6000/tcp open  X11</span><br><span class="line"></span><br><span class="line">Nmap scan report <span class="keyword">for</span> 192.168.41.107</span><br><span class="line">Host is up (0.000078s latency).</span><br><span class="line">Not shown: 998 closed tcp ports (conn-refused)</span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line">5000/tcp open  upnp</span><br><span class="line">7000/tcp open  afs3-fileserver</span><br><span class="line"></span><br><span class="line">Nmap <span class="keyword">done</span>: 256 IP addresses (3 hosts up) scanned <span class="keyword">in</span> 59.80 seconds</span><br></pre></td></tr></table></figure>
<p>We see http on 80 and DNS on 53, we can guess that this is the router</p>
<p>(Also we can see a X11 on 6000 in 192.168.41.100, about X11 there are also lots of test can play with, but I don’t have kali on my computer and I don’t want to install those tools on my Mac)</p>
<h3 id="Login"><a href="#Login" class="headerlink" title="Login"></a>Login</h3><p><img src="/2023/12/26/miscellaneous/RealWorld/empty.png" alt="empty"></p>
<p>The page looks empty, and <code>curl</code> returns 302, make me think there is some protection. It turns out that there is some protection, but is done quite poorly.</p>
<p><img src="/2023/12/26/miscellaneous/RealWorld/css.png" alt="css"></p>
<p>Are you fucking kidding me ? Make the page unviewable by using <code>css</code> ?</p>
<p>Then just remove the <code>css</code></p>
<p><img src="/2023/12/26/miscellaneous/RealWorld/show.png" alt="show"></p>
<p>Then we have a login page, no CAPTCHA, so we can do a brute force, but I hate guessing. Thanks to the developer to write some readable <code>javascript</code> code to encourage me to continue.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">	<span class="keyword">var</span> loginCount=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">var</span> xmlhttp;</span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">check</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">window</span>.XMLHttpRequest)&#123;</span><br><span class="line">			xmlhttp= <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">		&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">			xmlhttp= <span class="keyword">new</span> AxtiveXObject(<span class="string">&quot;Microsoft.XMLHTTP&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		xmlhttp.onreadystatechange=clback;</span><br><span class="line">		user=<span class="string">&quot;user=&quot;</span>+<span class="built_in">document</span>.getElementById(<span class="string">&quot;user&quot;</span>).value;</span><br><span class="line">		pwd=<span class="string">&quot;pwd=&quot;</span>+<span class="built_in">document</span>.getElementById(<span class="string">&quot;pwd&quot;</span>).value;</span><br><span class="line">		</span><br><span class="line">		xmlhttp.open(<span class="string">&quot;post&quot;</span>,<span class="string">&quot;/boafrm/formAwifilogin?&quot;</span>+user+<span class="string">&quot;&amp;&quot;</span>+pwd);<span class="comment">//提交验证</span></span><br><span class="line">		xmlhttp.send();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">clback</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(xmlhttp.readyState == <span class="number">4</span>)&#123;</span><br><span class="line">			<span class="keyword">var</span> text=xmlhttp.responseText;</span><br><span class="line">			<span class="keyword">if</span>(<span class="string">&quot;0&quot;</span>==text)&#123;</span><br><span class="line">				<span class="keyword">var</span> countfont = <span class="string">&quot;验证失败，剩余输入次数为：&quot;</span>;</span><br><span class="line">				<span class="keyword">var</span> countnext = <span class="number">2</span> - loginCount;</span><br><span class="line">				<span class="keyword">var</span> all = countfont + countnext;</span><br><span class="line">				<span class="built_in">document</span>.getElementById(<span class="string">&quot;errorcount&quot;</span>).innerHTML = all;</span><br><span class="line">				<span class="built_in">document</span>.getElementById(<span class="string">&quot;error&quot;</span>).style.display = <span class="string">&quot;block&quot;</span>;</span><br><span class="line">				<span class="keyword">if</span>(loginCount&gt;=<span class="number">2</span>)&#123;</span><br><span class="line">					sAlert(); </span><br><span class="line">				&#125;</span><br><span class="line">				loginCount=(loginCount+<span class="number">1</span>)%<span class="number">3</span>;</span><br><span class="line">			&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">				<span class="built_in">document</span>.cookie=<span class="string">&quot;authflag=&quot;</span>+text+<span class="string">&quot;-0&quot;</span>;</span><br><span class="line">				<span class="built_in">window</span>.location.href=<span class="string">&#x27;/home.htm&#x27;</span>;<span class="comment">//正确登录后页面跳转至</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">sAlert</span>(<span class="params"></span>) </span></span><br><span class="line"><span class="function">	</span>&#123; </span><br><span class="line">	<span class="keyword">var</span> msgw,msgh,bordercolor; </span><br><span class="line">	msgw=<span class="number">400</span>;<span class="comment">//提示窗口的宽度 </span></span><br><span class="line">	msgh=<span class="number">100</span>;<span class="comment">//提示窗口的高度 </span></span><br><span class="line">	titleheight=<span class="number">25</span> <span class="comment">//提示窗口标题高度 </span></span><br><span class="line">	bordercolor=<span class="string">&quot;#336699&quot;</span>;<span class="comment">//提示窗口的边框颜色 </span></span><br><span class="line">	titlecolor=<span class="string">&quot;#99CCFF&quot;</span>;<span class="comment">//提示窗口的标题颜色 </span></span><br><span class="line">	<span class="keyword">var</span> sWidth,sHeight; </span><br><span class="line">	sWidth=<span class="built_in">document</span>.body.offsetWidth;<span class="comment">//获取窗口宽度 </span></span><br><span class="line">	sHeight=screen.height;<span class="comment">//获取屏幕高度 </span></span><br><span class="line">	<span class="keyword">var</span> bgObj=<span class="built_in">document</span>.createElement(<span class="string">&quot;div&quot;</span>);<span class="comment">//关键在这里，原理：在body中创建一个div，并将其宽度与高度设置为覆盖整个窗体，如此一来就无法对其它窗口时行操作 </span></span><br><span class="line">	bgObj.setAttribute(<span class="string">&#x27;id&#x27;</span>,<span class="string">&#x27;bgDiv&#x27;</span>); </span><br><span class="line">	bgObj.style.position=<span class="string">&quot;absolute&quot;</span>; </span><br><span class="line">	bgObj.style.top=<span class="string">&quot;0&quot;</span>; </span><br><span class="line">	bgObj.style.background=<span class="string">&quot;#777&quot;</span>; </span><br><span class="line">	bgObj.style.filter=<span class="string">&quot;progid:DXImageTransform.Microsoft.Alpha(style=3,opacity=25,finishOpacity=75&quot;</span>; </span><br><span class="line">	bgObj.style.opacity=<span class="string">&quot;0.6&quot;</span>; </span><br><span class="line">	bgObj.style.left=<span class="string">&quot;0&quot;</span>; </span><br><span class="line">	bgObj.style.width=sWidth + <span class="string">&quot;px&quot;</span>; </span><br><span class="line">	bgObj.style.height=sHeight + <span class="string">&quot;px&quot;</span>; </span><br><span class="line">	bgObj.style.zIndex = <span class="string">&quot;10000&quot;</span>; </span><br><span class="line">	<span class="built_in">document</span>.body.appendChild(bgObj);<span class="comment">//设置完此div后将其显示出来 </span></span><br><span class="line">	<span class="keyword">var</span> msgObj=<span class="built_in">document</span>.createElement(<span class="string">&#x27;div&#x27;</span>);<span class="comment">//创建一个消息窗口 </span></span><br><span class="line">	msgObj.setAttribute(<span class="string">&quot;id&quot;</span>,<span class="string">&quot;msgDiv&quot;</span>); </span><br><span class="line">	msgObj.setAttribute(<span class="string">&quot;align&quot;</span>,<span class="string">&quot;center&quot;</span>); </span><br><span class="line">	msgObj.style.background=<span class="string">&quot;white&quot;</span>; </span><br><span class="line">	msgObj.style.border=<span class="string">&quot;1px solid &quot;</span> + bordercolor; </span><br><span class="line">	msgObj.style.position = <span class="string">&quot;absolute&quot;</span>; </span><br><span class="line">	msgObj.style.left = <span class="string">&quot;50%&quot;</span>; </span><br><span class="line">	msgObj.style.top = <span class="string">&quot;50%&quot;</span>; </span><br><span class="line">	msgObj.style.font=<span class="string">&quot;12px/1.6em Verdana, Geneva, Arial, Helvetica, sans-serif&quot;</span>; </span><br><span class="line">	msgObj.style.marginLeft = <span class="string">&quot;-225px&quot;</span> ; </span><br><span class="line">	msgObj.style.marginTop = -<span class="number">75</span>+<span class="built_in">document</span>.documentElement.scrollTop+<span class="string">&quot;px&quot;</span>; </span><br><span class="line">	msgObj.style.width = msgw+<span class="string">&quot;px&quot;</span>; </span><br><span class="line">	msgObj.style.height = msgh+<span class="string">&quot;px&quot;</span>; </span><br><span class="line">	msgObj.style.textAlign = <span class="string">&quot;center&quot;</span>; </span><br><span class="line">	msgObj.style.lineHeight =<span class="string">&quot;25px&quot;</span>; </span><br><span class="line">	msgObj.style.zIndex = <span class="string">&quot;10001&quot;</span>; </span><br><span class="line">	<span class="keyword">var</span> title=<span class="built_in">document</span>.createElement(<span class="string">&quot;h4&quot;</span>); <span class="comment">//创建一个标题，以备放置在消息层 </span></span><br><span class="line">	title.setAttribute(<span class="string">&quot;id&quot;</span>,<span class="string">&quot;msgTitle&quot;</span>); </span><br><span class="line">	title.setAttribute(<span class="string">&quot;align&quot;</span>,<span class="string">&quot;right&quot;</span>); </span><br><span class="line">	title.style.margin=<span class="string">&quot;0&quot;</span>; </span><br><span class="line">	title.style.padding=<span class="string">&quot;3px&quot;</span>; </span><br><span class="line">	title.style.background=bordercolor; </span><br><span class="line">	title.style.filter=<span class="string">&quot;progid:DXImageTransform.Microsoft.Alpha(startX=20, startY=20, finishX=100, finishY=100,style=1,opacity=75,finishOpacity=100);&quot;</span>; </span><br><span class="line">	title.style.opacity=<span class="string">&quot;0.75&quot;</span>; </span><br><span class="line">	title.style.border=<span class="string">&quot;1px solid &quot;</span> + bordercolor; </span><br><span class="line">	title.style.height=<span class="string">&quot;18px&quot;</span>; </span><br><span class="line">	title.style.font=<span class="string">&quot;12px Verdana, Geneva, Arial, Helvetica, sans-serif&quot;</span>; </span><br><span class="line">	title.style.color=<span class="string">&quot;white&quot;</span>; </span><br><span class="line">	title.style.cursor=<span class="string">&quot;pointer&quot;</span>; </span><br><span class="line">	<span class="built_in">document</span>.body.appendChild(msgObj); </span><br><span class="line">	<span class="built_in">document</span>.getElementById(<span class="string">&quot;msgDiv&quot;</span>).appendChild(title); </span><br><span class="line">	<span class="keyword">var</span> txt=<span class="built_in">document</span>.createElement(<span class="string">&quot;p&quot;</span>); </span><br><span class="line">	txt.style.margin=<span class="string">&quot;1em 0&quot;</span> </span><br><span class="line">	txt.setAttribute(<span class="string">&quot;id&quot;</span>,<span class="string">&quot;msgTxt&quot;</span>); </span><br><span class="line">	txt.innerHTML=<span class="string">&quot;密码输入尝试次数过多，系统锁屏1分钟，请稍后再试！&quot;</span>; </span><br><span class="line">	<span class="built_in">document</span>.getElementById(<span class="string">&quot;msgDiv&quot;</span>).appendChild(txt);</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">setTimeout</span>( <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="built_in">document</span>.body.removeChild(bgObj);<span class="comment">//移除覆盖整个窗口的div层 </span></span><br><span class="line">	<span class="built_in">document</span>.getElementById(<span class="string">&quot;msgDiv&quot;</span>).removeChild(title);<span class="comment">//移除标题 </span></span><br><span class="line">	<span class="built_in">document</span>.body.removeChild(msgObj);<span class="comment">//移除消息层 </span></span><br><span class="line">	&#125;, <span class="number">60</span> * <span class="number">1000</span> ); 		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line"><span class="built_in">document</span>.onkeydown=<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">       e = event ? event :(<span class="built_in">window</span>.event ? <span class="built_in">window</span>.event : <span class="literal">null</span>);</span><br><span class="line">       <span class="keyword">var</span> currKey=<span class="number">0</span>;</span><br><span class="line">       currKey=e.keyCode||e.which||e.charCode;</span><br><span class="line">       <span class="keyword">if</span>(currKey==<span class="number">13</span>)&#123;</span><br><span class="line">            check();</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;;</span><br></pre></td></tr></table></figure>
<p>They try to do something to prevent brute force, but do it in front end via <code>javascript</code> ? Doom to failure.</p>
<p>We can modify the code to enable brute force, but that is not quite useful, I hate guessing. And the password is not the default one.</p>
<h3 id="N-day"><a href="#N-day" class="headerlink" title="N-day"></a>N-day</h3><p>So let’s perform some research. I also notice that the login is actually depend on <strong>the cookie</strong>, if we have the <code>text</code> returned by the server(router), we can set the cookie and login successfully.</p>
<p>But I cannot decide what <code>text</code> is. This is also a brute force point, but again, not fan of guessing game.</p>
<p>I only need to know the cookie value, someone must have done this before.</p>
<p><img src="/2023/12/26/miscellaneous/RealWorld/cve.png" alt="cve"></p>
<p>look at that, full of this, 100% identical.</p>
<p><a target="_blank" rel="noopener" href="https://github.com/yedada-wei/gongkaishouji/blob/master/%E5%A4%A9%E7%BF%BC%E5%88%9B%E7%BB%B4awifi%E8%B7%AF%E7%94%B1%E5%99%A8%E5%AD%98%E5%9C%A8%E5%A4%9A%E5%A4%84%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE%E6%BC%8F%E6%B4%9E.md">We even have an exploit written for us</a></p>
<p>Also manually modify the cookie is also OK.</p>
<p>(The <code>text</code> is just simple <code>1</code>, WTF😬)</p>
<h3 id="Try-to-get-shell"><a href="#Try-to-get-shell" class="headerlink" title="Try to get shell"></a>Try to get shell</h3><p>We can see some file upload function in the admin panel. A firmware update is also possible.</p>
<p><img src="/2023/12/26/miscellaneous/RealWorld/fileupload.png" alt="success"></p>
<p>Then we can try to upload a php RCE payload, or modify a valid firmware to perform a malicious firmware update to get RCE. Since I do not have <code>AntSword</code> by my side and I do not want to get trouble and be in jail, I just leave it.</p>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p><strong><em>Here is the real value</em></strong></p>
<ol>
<li><p>In real world, if you want to hack something or someone, N-day is the most efficient way to get the job done.(And also the social engineering) 0-day is costy, very time-consuming and may screw up your motivation.</p>
</li>
<li><p>Security in real world is really an engineering problem. It is not build something new, bring some innovation ideas, it is about find the failure of some developers, not quite ‘advanced’ tech.</p>
</li>
<li><p>So only security research matters, only new ways of attack, new types of failure matters. (So I would like to quit and be a developer😅) Learn more about the <strong>theory</strong>, how to attack through a new way ? how to make tools make engineering more efficient ? (build the fuzzing framework etc) How 0-days are found ?(Not those ‘same knowledge apply to different scenarior’ bugs but really ‘new way to attack’/‘new type of bug’) Knowling the fundamental, attack it through a practical theoratical way. Base on the theory, do your innovation, what if I do something that no one has done ? What if I do Z instead of X and Y ? Will the theory fail ?</p>
</li>
<li><p>We should love new stuff. More opportunity, less competitor. And the most important, new theory, new system architure. They are less reviewed and studied. They are more likely to fail.</p>
</li>
<li><p>Don’t do <strong>labor-intense job</strong>, except it makes a lot of money.(or you really need money) You can learn stuff, practic stuff(ensure you understand it, make sure you really have the ability to make you idea come true, this is not labor-intense!💻), create stuff, never be constrainted by your past knowledge, build on them.</p>
</li>
<li><p>RealWorld is good because it is real. You got motivated. You will get reward.</p>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://rubbish-and-world.github.io/2023/12/26/miscellaneous/RealWorld/" data-id="clw33px0j007lrtyq853nbqwv" data-title="RealWorld" class="article-share-link">Compartir</a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2024/01/01/feelings/2024/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Nuevo</strong>
      <div class="article-nav-title">
        
          2024
        
      </div>
    </a>
  
  
    <a href="/2023/12/20/Web3/Blockchain/TechBasic/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Viejo</strong>
      <div class="article-nav-title">TechBasic</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categorías</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Cryptography/">Cryptography</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Data-Structure/">Data Structure</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Database/">Database</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Electronics/">Electronics</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/FrontEnd/">FrontEnd</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/FrontEnd/course/">course</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Hexo/">Hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/IOT/">IOT</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/LLL/">LLL</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Machine-Learning/">Machine Learning</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Machine-Learning/NTU/">NTU</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Machine-Learning/Stanford-CS229/">Stanford CS229</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Math/">Math</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Math/Discrete-Mathematics/">Discrete Mathematics</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Math/Linear-Algebra/">Linear Algebra</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Math/Statistics/">Statistics</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Missing-Semester/">Missing Semester</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Networking/">Networking</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Networking/Stanford-CS144/">Stanford CS144</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/OS/">OS</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/OS/30DayOS/">30DayOS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/OS/TEP/">TEP</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python-OG/">Python OG</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Web3/">Web3</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/academic/">academic</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/bis/">bis</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/csapp/">csapp</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/feeling/">feeling</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/feelings/">feelings</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/misc/">misc</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/noval/">noval</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/game/" rel="tag">game</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Nube de Tags</h3>
    <div class="widget tagcloud">
      <a href="/tags/game/" style="font-size: 10px;">game</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archivos</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/07/">July 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/05/">May 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/02/">February 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/01/">January 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/12/">December 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/08/">August 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">March 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">January 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">December 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">November 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">September 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">August 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">July 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">June 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Posts recientes</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2024/07/19/Web3/Blockchain/Solana-SPL-Token/">Solana-SPL-Token</a>
          </li>
        
          <li>
            <a href="/2024/07/09/miscellaneous/PaperHow2/">PaperHow2</a>
          </li>
        
          <li>
            <a href="/2024/05/19/feelings/flow/">flow</a>
          </li>
        
          <li>
            <a href="/2024/05/17/feelings/crush/">crush</a>
          </li>
        
          <li>
            <a href="/2024/02/04/Bis/Core/">Core</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2024 rubbish<br>
      Construido por <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>