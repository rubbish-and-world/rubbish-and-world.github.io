<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Modules | rubbishbin</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="As your program gets longer, you will need to sort it as a file or split it into several files">
<meta property="og:type" content="article">
<meta property="og:title" content="Modules">
<meta property="og:url" content="http://rubbish-and-world.github.io/2021/02/06/PythonOG/Modules/index.html">
<meta property="og:site_name" content="rubbishbin">
<meta property="og:description" content="As your program gets longer, you will need to sort it as a file or split it into several files">
<meta property="og:locale">
<meta property="article:published_time" content="2021-02-06T01:43:44.000Z">
<meta property="article:modified_time" content="2021-07-28T02:31:04.437Z">
<meta property="article:author" content="rubbish">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="rubbishbin" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">rubbishbin</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Buscar"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Buscar"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://rubbish-and-world.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-PythonOG/Modules" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/02/06/PythonOG/Modules/" class="article-date">
  <time class="dt-published" datetime="2021-02-06T01:43:44.000Z" itemprop="datePublished">2021-02-06</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Python-OG/">Python OG</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      Modules
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><em>As your program gets longer, you will need to sort it as a file or split it into several files</em></p>
<a id="more"></a>

<blockquote>
<p>Python has a way to put definitions in a file and use them in a script or in an interactive instance of the interpreter. Such a file is called a <em>module</em>.</p>
</blockquote>
<ul>
<li><p>The file name is the module name with the suffix <code>.py</code> appended.</p>
</li>
<li><p>Within a module, the module’s name (as a string) is available as the value of the global variable <code>__name__</code>.</p>
<blockquote>
<p>Whenever the Python interpreter reads a source file, it does two things:</p>
<ul>
<li>it sets a few special variables like <code>__name__</code>, and then</li>
<li>it executes all of the code found in the file.</li>
</ul>
<p><strong>The <code>import</code> statement do the same, so it will result in code executing!!!</strong>, see more at <a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/419163/what-does-if-name-main-do">stackoverflow</a> and <a target="_blank" rel="noopener" href="https://www.geeksforgeeks.org/__name__-special-variable-python/#:~:text=__name__%20is%20a,if%20statement%2C%20as%20shown%20below.">geeksforgeeks</a></p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># source of ptest.py</span></span><br><span class="line">print(<span class="string">&#x27;ptest is imported&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">badcode</span>():</span></span><br><span class="line">    print(<span class="string">&#x27;badcode is executed&#x27;</span>)</span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;real bad code should be like this.&#x27;</span>)</span><br><span class="line">print(__name__) <span class="comment"># __name__ is __main__ when call by interpreter directly, otherwise the name of the module.</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># source of callptest.py</span></span><br><span class="line"><span class="keyword">import</span> ptest</span><br><span class="line"></span><br><span class="line">print(__name__)</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ python3 ptest.py</span><br><span class="line">ptest is imported</span><br><span class="line">real bad code should be like this.</span><br><span class="line">__main__</span><br><span class="line">$ python3 callptest.py</span><br><span class="line">ptest is imported</span><br><span class="line">real bad code should be like this.</span><br><span class="line">ptest</span><br><span class="line">__main__</span><br></pre></td></tr></table></figure>
</li>
<li><p>the <code>import</code> statement does not enter the names of the functions defined in <code>ModuleName</code> directly in the current symbol table; it only enters the module name <code>ModuleName</code> there. Using the module name you can access the functions.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> ptest</span><br><span class="line">ptest <span class="keyword">is</span> imported</span><br><span class="line">real bad code should be like this.</span><br><span class="line">ptest</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>badcode()</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">NameError: name <span class="string">&#x27;badcode&#x27;</span> <span class="keyword">is</span> <span class="keyword">not</span> defined</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ptest.badcode()</span><br><span class="line">badcode <span class="keyword">is</span> executed</span><br></pre></td></tr></table></figure>
<h2 id="6-1-More-on-Modules"><a href="#6-1-More-on-Modules" class="headerlink" title="6.1. More on Modules"></a>6.1. More on Modules</h2></li>
<li><p>import statement will execute the codes in a module <strong>only the first time it is encountered</strong>, this prevent multiple importing.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> callptest</span><br><span class="line">ptest <span class="keyword">is</span> imported</span><br><span class="line">real bad code should be like this.</span><br><span class="line">ptest</span><br><span class="line">callptest</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> ptest</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> ptest</span><br><span class="line">ptest <span class="keyword">is</span> imported</span><br><span class="line">real bad code should be like this.</span><br><span class="line">ptest</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> callptest</span><br><span class="line">callptest</span><br></pre></td></tr></table></figure></li>
<li><p>Each module has its own private symbol table, which is used as the global symbol table by all functions defined in the module. This avoid name collision.</p>
<ul>
<li>to import it again, check  <a target="_blank" rel="noopener" href="https://docs.python.org/3/library/importlib.html#importlib.reload">importlib.reload()</a>, <strong>result in code executing!!!</strong></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">badcode</span>():</span></span><br><span class="line"><span class="meta">... </span>    print(<span class="string">&#x27;badcode in main&#x27;</span>)</span><br><span class="line"><span class="meta">... </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>badcode()</span><br><span class="line">badcode <span class="keyword">in</span> main</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ptest.badcode()</span><br><span class="line">badcode <span class="keyword">is</span> executed</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>ptest.badcode = badcode <span class="comment"># it can be referred</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ptest.badcode()</span><br><span class="line">badcode <span class="keyword">in</span> main</span><br></pre></td></tr></table></figure></li>
<li><p>Other variants of import</p>
<ul>
<li><p><code>from ModuleName import FunctionName , ItemName</code></p>
<p>this operation does not import the ModuleName</p>
</li>
<li><p><code>from ModuleName import *</code></p>
<p>this operation does not import names begin with <code>_</code>, it is poorly readable and may mask names defined before, frowned upon.</p>
</li>
</ul>
</li>
<li><p>use <code>as</code> to make an alias</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> ptest <span class="keyword">as</span> p</span><br><span class="line">ptest <span class="keyword">is</span> imported</span><br><span class="line">real bad code should be like this.</span><br><span class="line">ptest</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ptest</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">NameError: name <span class="string">&#x27;ptest&#x27;</span> <span class="keyword">is</span> <span class="keyword">not</span> defined</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>p</span><br><span class="line">&lt;module <span class="string">&#x27;ptest&#x27;</span> <span class="keyword">from</span> <span class="string">&#x27;/Users/rubbish/test/ptest.py&#x27;</span>&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> ptest <span class="keyword">import</span> badcode <span class="keyword">as</span> bc</span><br><span class="line">ptest <span class="keyword">is</span> imported</span><br><span class="line">real bad code should be like this.</span><br><span class="line">ptest</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ptest</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">NameError: name <span class="string">&#x27;ptest&#x27;</span> <span class="keyword">is</span> <span class="keyword">not</span> defined</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>badcode</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">NameError: name <span class="string">&#x27;badcode&#x27;</span> <span class="keyword">is</span> <span class="keyword">not</span> defined</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bc</span><br><span class="line">&lt;function badcode at <span class="number">0x107325ca0</span>&gt;</span><br></pre></td></tr></table></figure>
<h3 id="6-1-1-Executing-modules-as-scripts"><a href="#6-1-1-Executing-modules-as-scripts" class="headerlink" title="6.1.1. Executing modules as scripts"></a>6.1.1. Executing modules as scripts</h3></li>
</ul>
<p><em>make your modules both executable and importable</em></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># add this condition</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    <span class="comment"># executable codes below</span></span><br><span class="line">    <span class="keyword">import</span> sys</span><br><span class="line">    fib(<span class="built_in">int</span>(sys.argv[<span class="number">1</span>]))</span><br></pre></td></tr></table></figure>
<h3 id="6-1-2-The-Module-Search-Path"><a href="#6-1-2-The-Module-Search-Path" class="headerlink" title="6.1.2. The Module Search Path"></a>6.1.2. The Module Search Path</h3><ol>
<li><p>built-in module</p>
</li>
<li><p>a list of directories given by the variable <a target="_blank" rel="noopener" href="https://docs.python.org/3/library/sys.html#sys.path">sys.path</a>. It is initialized by:</p>
<p>2.1 The directory containing the input script (or the current directory when no file is specified).</p>
<p>2.2 <a target="_blank" rel="noopener" href="https://docs.python.org/3/using/cmdline.html#envvar-PYTHONPATH">PYTHONPATH</a> (a list of directory names, with the same syntax as the shell variable <code>PATH</code>).</p>
<p>2.3 The installation-dependent default.</p>
</li>
<li><p>end</p>
</li>
</ol>
<ul>
<li><p>the directory containing the symlink is <strong>NOT</strong> added to the module search path.</p>
</li>
<li><p>The <code>sys.path</code> list is editable, you can add the path manually.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> desk</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">ModuleNotFoundError: No module named <span class="string">&#x27;desk&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sys.path.append(<span class="string">&#x27;/Users/username/Desktop&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> desk</span><br><span class="line">Desktop!!!</span><br></pre></td></tr></table></figure></li>
<li><p>If you run the source file as a script, <strong>the directory containing the script</strong> being run is placed at the beginning of the search path, <strong>ahead of the standard library path</strong>. This means that scripts in that directory will be loaded instead of modules of the same name in the library directory. This is an error unless the replacement is intended.</p>
</li>
<li><p>The subdirectories are <strong>NOT</strong> included!!! (If you want to include subdirectories, make it a package)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">/Users/username/test</span><br><span class="line">├── mode</span><br><span class="line">       └── ptest.py</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dirs.append(<span class="string">&#x27;/Users/username/test&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> ptest</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">ModuleNotFoundError: No module named <span class="string">&#x27;ptest&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dirs.append(<span class="string">&#x27;/Users/username/test/mode&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> ptest</span><br><span class="line">ptest <span class="keyword">is</span> imported</span><br><span class="line">real bad code should be like this.</span><br><span class="line">ptest</span><br></pre></td></tr></table></figure>
<h3 id="6-1-3-“Compiled”-Python-files"><a href="#6-1-3-“Compiled”-Python-files" class="headerlink" title="6.1.3. “Compiled” Python files"></a>6.1.3. “Compiled” Python files</h3></li>
</ul>
<blockquote>
<p>To speed up loading modules, Python caches the compiled version of each module in the <code>__pycache__</code> directory under the name <code>module.version.pyc</code></p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ ls __pycache__</span><br><span class="line">callptest.cpython-39.pyc </span><br></pre></td></tr></table></figure>
<ul>
<li><p>Python checks the modification date of the source against the compiled version to see if it’s out of date and needs to be recompiled.</p>
</li>
<li><p> the compiled modules are platform-independent</p>
</li>
<li><p>Python does not check the date of the cache in two circumstances</p>
<ul>
<li>Command-line loaded modules</li>
<li>no source module (To support a non-source (compiled only) distribution, the compiled module must be in the source directory, and there must not be a source module.)</li>
</ul>
</li>
<li><p>compiled modules only <strong>loaded</strong> faster than source file</p>
</li>
<li><p>The module <a target="_blank" rel="noopener" href="https://docs.python.org/3/library/compileall.html#module-compileall">compileall</a> can create .pyc files for all modules in a directory.</p>
</li>
<li><p>compile specified files</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ python3 -m py_compile ptest.py</span><br><span class="line">$ ls __pycache__/</span><br><span class="line">ptest.cpython-39.pyc</span><br></pre></td></tr></table></figure></li>
<li><p>compile with optimizations</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ python3 -O -m py_compile ptest.py</span><br><span class="line">$ ls __pycache__/</span><br><span class="line">ptest.cpython-39.opt-1.pyc</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-O     : remove <span class="keyword">assert</span> <span class="keyword">and</span> <span class="literal">__debug__</span>-dependent statements; add .opt-<span class="number">1</span> before</span><br><span class="line">         .pyc extension; also PYTHONOPTIMIZE=x</span><br><span class="line">-OO    : do -O changes <span class="keyword">and</span> also discard docstrings; add .opt-<span class="number">2</span> before</span><br><span class="line">         .pyc extension</span><br></pre></td></tr></table></figure></li>
<li><p>see more in <a target="_blank" rel="noopener" href="https://www.python.org/dev/peps/pep-3147"><strong>PEP 3147</strong></a>.</p>
</li>
</ul>
<h2 id="6-2-Standard-Modules"><a href="#6-2-Standard-Modules" class="headerlink" title="6.2. Standard Modules"></a>6.2. Standard Modules</h2><ul>
<li><p>The set of such modules is a configuration option which also depends on the underlying platform.(like <code>winreg</code> only available on Windows)</p>
</li>
<li><p><code>sys.ps1</code>and<code>sys.ps2</code>define the primary and the secondary prompt. These two variables are only defined if the interpreter is in interactive mode.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> sys</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sys.ps1</span><br><span class="line"><span class="string">&#x27;&gt;&gt;&gt; &#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sys.ps2</span><br><span class="line"><span class="string">&#x27;... &#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sys.ps1 = <span class="string">&#x27;$$$&#x27;</span></span><br><span class="line">$$$</span><br><span class="line">$$$</span><br><span class="line">$$$</span><br><span class="line">$$$sys.ps1 = <span class="string">&#x27;😀&#x27;</span></span><br><span class="line">😀</span><br><span class="line">😀</span><br><span class="line">😀</span><br></pre></td></tr></table></figure>
<h2 id="6-3-The-dir-Function"><a href="#6-3-The-dir-Function" class="headerlink" title="6.3. The dir() Function"></a>6.3. The <a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html#dir"><code>dir()</code></a> Function</h2></li>
<li><p>The built-in function <a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html#dir">dir()</a> is used to find out which names a module defines. It returns a sorted list of strings.</p>
</li>
<li><p>Without arguments, <a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html#dir">dir()</a> lists the names you have defined currently</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">dir</span>()</span><br><span class="line">[<span class="string">&#x27;__annotations__&#x27;</span>, <span class="string">&#x27;__builtins__&#x27;</span>, <span class="string">&#x27;__doc__&#x27;</span>, <span class="string">&#x27;__loader__&#x27;</span>, <span class="string">&#x27;__name__&#x27;</span>, <span class="string">&#x27;__package__&#x27;</span>, <span class="string">&#x27;__spec__&#x27;</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> ptest</span><br><span class="line">ptest <span class="keyword">is</span> imported</span><br><span class="line">real bad code should be like this.</span><br><span class="line">ptest</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">dir</span>(ptest)</span><br><span class="line">[<span class="string">&#x27;__builtins__&#x27;</span>, <span class="string">&#x27;__cached__&#x27;</span>, <span class="string">&#x27;__doc__&#x27;</span>, <span class="string">&#x27;__file__&#x27;</span>, <span class="string">&#x27;__loader__&#x27;</span>, <span class="string">&#x27;__name__&#x27;</span>, <span class="string">&#x27;__package__&#x27;</span>, <span class="string">&#x27;__spec__&#x27;</span>, <span class="string">&#x27;badcode&#x27;</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a =  <span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">dir</span>()</span><br><span class="line">[<span class="string">&#x27;__annotations__&#x27;</span>, <span class="string">&#x27;__builtins__&#x27;</span>, <span class="string">&#x27;__doc__&#x27;</span>, <span class="string">&#x27;__loader__&#x27;</span>, <span class="string">&#x27;__name__&#x27;</span>, <span class="string">&#x27;__package__&#x27;</span>, <span class="string">&#x27;__spec__&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;ptest&#x27;</span>]</span><br></pre></td></tr></table></figure>
<ul>
<li><p>Note that it lists all types of names: variables, modules, functions, etc, with built-in things excluded.</p>
</li>
<li><p>you can get builtins by <code>builtin</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> builtins</span><br><span class="line"><span class="built_in">dir</span>(builtins) </span><br></pre></td></tr></table></figure>
<h2 id="6-4-Packages"><a href="#6-4-Packages" class="headerlink" title="6.4. Packages"></a>6.4. Packages</h2></li>
</ul>
<blockquote>
<p>Packages are a way of structuring Python’s module namespace by using “dotted module names”.</p>
<p>Or you can take it as a collection of modules.</p>
</blockquote>
<ul>
<li><p>the use of dotted module names saves the authors of multi-module packages from having to worry about each other’s module names.</p>
</li>
<li><p>When importing the package, Python searches through the directories on <code>sys.path</code> looking for the package subdirectory.</p>
</li>
<li><p>The <code>__init__.py</code> files are required to make Python treat directories containing the file as packages.</p>
</li>
<li><p><code>__init__.py</code> can just be an empty file, but it can also execute initialization code for the package or set the <code>__all__</code> variable</p>
</li>
<li><p>Users of the package can import individual modules from the package</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sound.effects.echo <span class="comment"># This loads the submodule sound.effects.echo.</span></span><br><span class="line"><span class="comment"># or</span></span><br><span class="line"><span class="keyword">from</span> sound.effects <span class="keyword">import</span> echo</span><br></pre></td></tr></table></figure></li>
<li><p>the item can be either a <strong>submodule</strong> (or subpackage) of the package, or some other name defined in the package, like a <strong>function</strong>, <strong>class</strong> or <strong>variable</strong>.</p>
</li>
<li><p>The <code>import</code> statement first tests whether the item is defined in the package; if not, it assumes it is a module and attempts to load it. </p>
</li>
<li><p>when using syntax like <code>import item.subitem.subsubitem</code>, each item except for the last must be a <strong>package</strong>; the last item can be a module or a package but can’t be a class or function or variable defined in the previous item.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> mypkg.pkg.greet.tell <span class="comment"># wrong</span></span><br><span class="line">Hello, I am a package</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">ModuleNotFoundError: No module named <span class="string">&#x27;mypkg.pkg.greet.tell&#x27;</span>; <span class="string">&#x27;mypkg.pkg.greet&#x27;</span> <span class="keyword">is</span> <span class="keyword">not</span> a package</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> mypkg.pkg.greet <span class="keyword">import</span> tell <span class="comment"># right</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>tell()</span><br><span class="line">hello</span><br></pre></td></tr></table></figure>
<h3 id="6-4-1-Importing-From-a-Package"><a href="#6-4-1-Importing-From-a-Package" class="headerlink" title="6.4.1. Importing * From a Package"></a>6.4.1. Importing * From a Package</h3></li>
</ul>
<blockquote>
<p>if a package’s <code>__init__.py</code> code defines a list named <code>__all__</code>, it is taken to be the list of module names that should be imported when <code>from package import *</code> is encountered. </p>
</blockquote>
<ul>
<li>If <code>__all__</code> is not defined, the statement <code>from sound.effects import *</code> does <em>not</em> import all submodules from the package <code>sound.effects</code> into the current namespace; it only ensures that the package <code>sound.effects</code> has been imported (possibly running any initialization code in <code>__init__.py</code>)</li>
<li>then imports whatever names are defined in the package</li>
<li><code>from package import specific_submodule</code> is the recommended way</li>
</ul>
<h3 id="6-4-2-Intra-package-References"><a href="#6-4-2-Intra-package-References" class="headerlink" title="6.4.2. Intra-package References"></a>6.4.2. Intra-package References</h3><blockquote>
<p>use leading dots to make relatively import</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> . <span class="keyword">import</span> ModuleName <span class="comment"># from current pkg import a module in the same pkg</span></span><br><span class="line"><span class="keyword">from</span> .. <span class="keyword">import</span> PackageName <span class="comment"># from parent dir import another pkg</span></span><br><span class="line"><span class="keyword">from</span> ..AnotherPkgName <span class="keyword">import</span> ModuleName <span class="comment"># from parent dir import another module in AnotherPkgName</span></span><br></pre></td></tr></table></figure>
<ul>
<li>Note that relative imports are based on the name of the current module.</li>
<li>modules intended for use as the main module of a Python application must always use absolute imports.</li>
</ul>
<h3 id="6-4-3-Packages-in-Multiple-Directories"><a href="#6-4-3-Packages-in-Multiple-Directories" class="headerlink" title="6.4.3. Packages in Multiple Directories"></a>6.4.3. Packages in Multiple Directories</h3><ul>
<li><p><a target="_blank" rel="noopener" href="https://docs.python.org/3/reference/import.html#__path__"><code>__path__</code></a> is a special variable, a list containing the name of the directory holding the package’s <code>__init__.py</code> before the code in that file is executed.</p>
</li>
<li><p>it can be used to extend the set of modules found in a package.</p>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://rubbish-and-world.github.io/2021/02/06/PythonOG/Modules/" data-id="ckszqyvp5001iqmyq51ds8tbn" data-title="Modules" class="article-share-link">Compartir</a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2021/02/07/PythonOG/Input-and-Output/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Nuevo</strong>
      <div class="article-nav-title">
        
          Input and Output
        
      </div>
    </a>
  
  
    <a href="/2021/02/05/PythonOG/Data-Structures/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Viejo</strong>
      <div class="article-nav-title">Data Structures</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categorías</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Cryptography/">Cryptography</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Data-Structure/">Data Structure</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Electronics/">Electronics</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Hexo/">Hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Machine-Learning/">Machine Learning</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Machine-Learning/NTU/">NTU</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Machine-Learning/Stanford-CS229/">Stanford CS229</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Math/">Math</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Math/Discrete-Mathematics/">Discrete Mathematics</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Networking/">Networking</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Networking/Stanford-CS144/">Stanford CS144</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python-OG/">Python OG</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/csapp/">csapp</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/csapp/Stanford-CS144/">Stanford CS144</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/misc/">misc</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/game/" rel="tag">game</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Nube de Tags</h3>
    <div class="widget tagcloud">
      <a href="/tags/game/" style="font-size: 10px;">game</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archivos</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Posts recientes</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/09/13/CSAPP/attacklab/">attacklab</a>
          </li>
        
          <li>
            <a href="/2021/09/10/Network/principles/">principles</a>
          </li>
        
          <li>
            <a href="/2021/09/10/CSAPP/Ch6/">Ch6</a>
          </li>
        
          <li>
            <a href="/2021/09/09/Network/network-layer/">network layer</a>
          </li>
        
          <li>
            <a href="/2021/09/06/Network/Introduction/">Introduction</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 rubbish<br>
      Construido por <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>